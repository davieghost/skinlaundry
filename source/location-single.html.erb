<div id="main" ng-init = "base.setDefaultLocation('<%= location["name"]%>')">
	<div class="head">
		<h1>Locations</h1>
	</div>

	<div class="row clearfix">
		<div class="box-left branch-photo">
			<img src="<%= location['images'].first %>" class="img-responsive">
		</div>

		<div class="box-right branch-details">
			<h2 class="title"><%= location["name"] %></h2>
			<p class="address"><%= location["address1"] + ", " + location["address2"] %><br><%= location['city_state'] + ' ' + location['zipcode'] %><br><%= location["contact"].first %></p>
			<%if(location["status"]["isbookingactive"] == "yes")%>
			<a href="<%= $BOOKING_ENDPOINT %>" class="book-online">Book Online</a>
			<%end%>
		</div>
	</div>

	
	<div class="row clearfix">
		<div class="box-left office-timing-details">
			<h3 class="hours-title">HOURS</h3>

			<div class="office-timings">
				<% location["timings"].each do |day, timing |%>
				<div class="office-hours">
					<p class="day"><%= day %></p>
					<p class="hours"><%= timing %></p>
				</div>
				<%end%>
			</div>

			<h3 class="map-title">MAP</h3>
			
		</div>

		<div class="box-right">
			<div class="google-maps-container" id = "map-canvas" style = "height:450px"></div>
		</div>
	</div>
</div>
<script type="text/javascript">
	document.getElementsByTagName("body")[0].className += " location-single";
  function initialize() {
    var center = new google.maps.LatLng(<%= location['geocode'][0] %>,<%= location['geocode'][1] %>)
    var mapOptions = {
      navigationControl: false,
      mapTypeControl: false,
      scaleControl: false,
      draggable: false,
      scrollwheel: false,
      center: center,
      zoom: 14
    };
    var map     = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
    var marker  = new google.maps.Marker({
      position: center,
      map: map,
      title: '<%= location["name"]%>'
    });
  }
  google.maps.event.addDomListener(window, 'load', initialize);
 </script>
